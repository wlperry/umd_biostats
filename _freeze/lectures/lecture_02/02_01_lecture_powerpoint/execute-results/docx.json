{
  "hash": "851b1454a1ae448e98f4487bd89b3a80",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lecture 2: Project Design & Data Visualization\"\nauthor: \"Bill Perry\"\nexecute:\n  freeze: auto\n  cache: true\n  echo: true\n  keep-md: true # retains the images when you start again\n  message: false\n  warning: false\n  fig-height: 3\n  fig-width: 3\n  paged-print: false\nformat:\n  html:\n    toc: false\n    output-file: \"02_01_lecture_powerpoint_html.html\"\n    embed-resources: true\n    self-contained: true\n    max-width: 80ch  # Limits line length to approximately 80 characters\n    css: ../../css/lecture.css\n  revealjs:\n    output-file: \"02_01_lecture_powerpoint_slides.html\"\n    self-contained: true\n    css: ../../css/lecture.css\n    slide-number: true\n    transition: fade\n  pptx:\n    reference-doc: ../../ms_templates/lecture_template.pptx \n    embed-resources: true\n  docx:\n    default: true\n    toc: false\n    toc-depth: 3\n    number-sections: false\n    highlight-style: github\n    reference-doc: ../../ms_templates/custom-reference.docx\n    css: msword.css\n    embed-resources: true\neditor: visual\n---\n\n\n\n\n\n\n\n\n\n\n# Review of Lecture 1\n\n::::: columns\n::: {.column width=\"60%\"}\nCovered\n\n-   Inductive vs deductive reasoning\n-   Formulating research questions\n-   Accuracy vs precision\n-   Data types and classifications\n-   Setting up R projects\n-   Installing and loading libraries\n-   Reading files into R\n-   Creating basic graphs\n:::\n\n::: {.column width=\"40%\"}\n:::\n:::::\n\n# Lecture 2: Project Design & Data Visualization\n\n::::: columns\n::: {.column width=\"60%\"}\n## The objectives:\n\n1.  Design a well-organized project\n2.  Implement good naming conventions\n    -   Controlled vocabulary\n    -   Including units in names\n3.  Create and use metadata effectively\n4.  Build tidy, well-structured spreadsheets\n5.  Understand data repositories\n6.  Create effective visualizations with ggplot2\n:::\n\n::: {.column width=\"40%\"}\n\\<![](images/data_pasta.png)\\>\n:::\n:::::\n\n# Project Design: Step 1\n\n::::: columns\n::: {.column width=\"60%\"}\n-   Data: the raw material of science\n-   Wide variety of formats, sizes, complexity\n-   Data management and curation often under emphasized\n-   Good data management: owe it to our funding agencies, colleagues, supervisors, and study systems\n:::\n\n::: {.column width=\"40%\"}\n\\<![](images/clipboard-2800996557.png)\\>\n:::\n:::::\n\n# **Lecture 2:** Project Design: Step 1\n\n:::::: columns\n:::: {.column width=\"60%\"}\n1.  **Determine data types** you'll collect\n2.  **Establish controlled vocabulary**\n    -   Example: `do_mgl` for dissolved oxygen in mg/L\n    -   Example: `drp_ugl` for dissolved reactive phosphorus in μg/L\n3.  **Plan your data flow** from collection to analysis\n4.  **Organize your project structure** (folders, files)\n5.  **Enter data promptly** after collection\n6.  **Save in multiple formats** (Excel and CSV)\n7.  **Ensure tidy data principles** from the start\n\n::: callout-note\nSee Hadley Wickham's [Tidy Data principles](https://r4ds.hadley.nz/data-tidy.html) for best practices\n:::\n::::\n\n::: {.column width=\"40%\"}\n\\<![](images/clipboard-531200679.png)\\>\n:::\n::::::\n\n# Project Design: Step 2\n\n# \n\n::::: columns\n::: {.column width=\"60%\"}\nCreate a **Metadata Sheet** that includes:\n\n-   Variable descriptions\n-   Units of measurement\n-   Collection methods\n-   Instrument details\n-   Dates and locations\n-   Any other relevant contextual information\n:::\n\n::: {.column width=\"40%\"}\n\\<![](images/clipboard-531200679.png)\\>\n:::\n:::::\n\n::: callout-tip\n### Practice Exercise 1: Pine Data Organization\n\nLet's examine our pine needle data: - What naming conventions did you choose? - How did you organize the data? - How can you verify data formats (numeric vs categorical)? - What's your plan for organizing outputs and figures?\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Code to read and examine data\nlibrary(tidyverse)\nlibrary(patchwork)\nlibrary(kableExtra)\n\npine_df <- read_csv(\"data/pine_needles.csv\")\nglimpse(pine_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 48\nColumns: 6\n$ date      <chr> \"3/20/25\", \"3/20/25\", \"3/20/25\", \"3/20/25\", \"3/20/25\", \"3/20…\n$ group     <chr> \"cephalopods\", \"cephalopods\", \"cephalopods\", \"cephalopods\", …\n$ n_s       <chr> \"n\", \"n\", \"n\", \"n\", \"n\", \"n\", \"s\", \"s\", \"s\", \"s\", \"s\", \"s\", …\n$ wind      <chr> \"lee\", \"lee\", \"lee\", \"lee\", \"lee\", \"lee\", \"wind\", \"wind\", \"w…\n$ tree_no   <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, …\n$ length_mm <dbl> 20, 21, 23, 25, 21, 16, 15, 16, 14, 17, 13, 15, 19, 18, 20, …\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n\n:::\n\n## \n\n# **Lecture 2:** Data Management: Step 3\n\n::::: columns\n::: {.column width=\"60%\"}\n**Storage and Backup Strategy**:\n\n1.  Store raw data and metadata securely\n    -   Save in both Excel and CSV formats\n    -   Consider write-protecting raw data files\n2.  Implement the 3-2-1 backup rule:\n    -   3 total copies of data\n    -   2 different storage media\n    -   1 offsite location (cloud storage)\n3.  Establish a regular backup schedule\n:::\n\n::: {.column width=\"40%\"}\n\\<![](images/clipboard-127112346.png) ![](images/clipboard-3792512345.png)\n:::\n:::::\n\n# **Lecture 2:** Data Management: Step 4\n\n::::: columns\n::: {.column width=\"60%\"}\n**Initial Data Inspection**:\n\n1.  Examine data in the Environment tab\n2.  Run `summary()` and `glimpse()` functions\n3.  Create exploratory visualizations\n4.  Check for outliers, errors, and missing data\n\n``` r\n# Specify how to handle missing values during import\npine_df <- read_csv(\"data/pine_needles.csv\", \n                    na = c(\"\", \"NA\", \"N/A\", \"missing\", \"null\"))\n\n# Get a quick summary\nsummary(pine_df)\n```\n:::\n\n::: {.column width=\"40%\"}\n![](images/clipboard-247511122.png){width=\"594\"}\n:::\n:::::\n\n::: callout-tip\n## Practice Exercise 2: Try plotting a histogram of your data\n\nCreate a histogram of pine needle lengths to check the distribution:\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Write your code here to make a plot\n# How do you examine the data - what are the ways you think and lets try it!\n```\n:::\n\n\n\n\n\n\n\n\n\n:::\n\n# Lecture 2: Data Management: Step 5\n\n::::: columns\n::: {.column width=\"60%\"}\n**Data Cleaning**:\n\n1.  Correct errors and inconsistencies\n2.  Replace missing values with proper NA codes\n3.  Document all changes made to raw data\n4.  Save a clean, master version (consider making read-only)\n5.  Keep notes on data cleaning procedures\n:::\n\n::: {.column width=\"40%\"}\n![](images/clipboard-814185367.png){width=\"509\"}\n:::\n:::::\n\n# Lecture 2: Data Management: Step 6\n\n::::: columns\n::: {.column width=\"60%\"}\n**Analysis and Visualization Workflow**:\n\n1.  Create exploratory visualizations\n2.  Summarize and transform data as needed\n3.  Document all analysis steps\n4.  Save outputs systematically\n:::\n\n::: {.column width=\"40%\"}\nA good way to organize script files is number them in the order they get run.\n\n![](images/clipboard-2204984243.png){width=\"520\"}\n:::\n:::::\n\n# Lecture 2: Effective Data Visualization\n\n::::: columns\n::: {.column width=\"60%\"}\n## Why make plots?\n\n## Get in a group and discuss\n\n-   What is the purpose of a data visualization?\n-   What elements are essential in an effective plot?\n-   What characteristics define a \"good\" plot?\n-   What common mistakes make plots ineffective?\n\n[Napoleon’s Disastrous Invasion of Russia Detailed in an 1869 Data Visualization: It’s Been Called “the Best Statistical Graphic Ever Drawn”](https://www.openculture.com/2019/07/napoleons-disastrous-invasion-of-russia-explained-in-an-1869-data-visualization.html)\n:::\n\n::: {.column width=\"40%\"}\n![](images/clipboard-1704774013.png){width=\"839\"}\n:::\n:::::\n\n# **Lecture 2:** Tables vs. Visualizations\n\n::::: columns\n::: {.column width=\"60%\"}\n**How readable are tables?**\n\nWe will get to what these number mean and how to make them in the next lecture.\n\n-   Tables\n    -   are they useful in a presentation?\n:::\n\n::: {.column width=\"40%\"}\n\n\n\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\n|wind |  n| mean_length_mm| sd_length_mm| min_length_mms| max_length_mm|\n|:----|--:|--------------:|------------:|--------------:|-------------:|\n|lee  | 24|             20|         2.45|             16|            25|\n|wind | 24|             15|         1.91|             12|            19|\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n\n:::\n:::::\n\n# **Lecture 2:** Displaying data\n\n::::: columns\n::: {.column width=\"60%\"}\n-   **how does a table compare to a plot?**\n\n-   Does this help?\n\n-   What is this plot?\n\n    -   if you don't explain does the audience know?\n:::\n\n::: {.column width=\"40%\"}\n\\<\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](02_01_lecture_powerpoint_files/figure-docx/unnamed-chunk-3-1.png)\n:::\n:::\n\n\n\n\n\n\n\n\n\n:::\n:::::\n\n# **Lecture 2:** Principles of Effective Graphics\n\n::::: columns\n::: {.column width=\"60%\"}\nAccording to [Tufte (2001)](https://www.edwardtufte.com/book/the-visual-display-of-quantitative-information/), good scientific graphics:\n\n1.  **Show the data** without distortion\n2.  **Maximize data-ink ratio** (minimize non-data elements)\n3.  **Make large datasets coherent** and understandable\n4.  **Encourage comparison** between elements\n5.  **Reveal multiple layers** of information\n6.  **Serve a clear purpose** in telling your story\n7.  **Integrate with statistical methods** appropriately\n:::\n\n::: {.column width=\"40%\"}\n\n\n\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\n|group       | mean_length| sd_length|  n| se_length| conf_low| conf_high|\n|:-----------|-----------:|---------:|--:|---------:|--------:|---------:|\n|cephalopods |    18.00000|  3.861229| 12| 1.1146409| 15.54669|  20.45331|\n|crayfish    |    18.00000|  3.861229| 12| 1.1146409| 15.54669|  20.45331|\n|salmon      |    16.33333|  3.938928| 12| 1.1370705| 13.83066|  18.83601|\n|snail       |    18.33333|  2.269695| 12| 0.6552045| 16.89124|  19.77543|\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n\n:::\n:::::\n\n# **Lecture 2:** Creating Effective Graphics\n\n::::: columns\n::: {.column width=\"60%\"}\nAccording to [Tufte (2001)](https://www.edwardtufte.com/book/the-visual-display-of-quantitative-information/), good scientific graphics:\n\n-   To implement these principles:\n    -   Focus on the data, not decorative elements\n    -   Ensure proportional representation of numbers\n    -   Provide clear and informative labels\n    -   Remove unnecessary elements (\"chart junk\")\n    -   Revise and refine visualizations iteratively\n:::\n\n::: {.column width=\"40%\"}\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n\n\n\n\n\n:::\n:::::\n\n# **Lecture 2:** Displaying data\n\n::::: columns\n::: {.column width=\"60%\"}\nTo make good graphics:\n\n-   Above all, focus on data\n-   Do not distort data\n-   Graphical representation of numbers → directly proportional to numbers\n-   Strive for clarity through labeling\n-   Maximize data-ink ratio\n    -   Remove non-data ink\n    -   Reduce redundant data ink\n-   Revise and redraw\n:::\n\n::: {.column width=\"40%\"}\n\n\n\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](02_01_lecture_powerpoint_files/figure-docx/good-graphics-2-1.png)\n:::\n:::\n\n\n\n\n\n\n\n\n\n:::\n:::::\n\n# **Lecture 2:** Displaying data\n\n::::: columns\n::: {.column width=\"60%\"}\nWhat do you think?\n\nDoes this -\n\n-   Focus on data\n-   Distort data\n-   Is it directly proportional to numbers\n-   Is labeling clear\n-   Maximize data-ink ratio\n    -   Remove non-data ink\n    -   Reduce redundant data ink\n-   Revise and redraw\n:::\n\n::: {.column width=\"40%\"}\n\\<\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Let's create two versions of the same plot\n# First, a \"poor\" version with low data-ink ratio\nlibrary(ggthemes)\npoor_plot <- ggplot(pine_df, aes(x = wind, y = length_mm)) +\n  geom_bar(stat = \"summary\", fun = \"mean\", fill = \"lightblue\", \n           color = \"black\") +\n  geom_errorbar(stat = \"summary\", fun.data = \"mean_se\", width = 0.5) +\n  # theme_excel() +\n  labs(title = \"Average needle length\",\n       subtitle = \"This plot has a low data-ink ratio\",\n       x = \"Sampling Side\", y = \"Average lenght (mm)\")\npoor_plot\n```\n\n::: {.cell-output-display}\n![](02_01_lecture_powerpoint_files/figure-docx/unnamed-chunk-5-1.png)\n:::\n:::\n\n\n\n\n\n\n\n\n\n:::\n:::::\n\n# **Lecture 2:** Displaying data\n\n::::: columns\n::: {.column width=\"60%\"}\nWhat do you think?\n\nDoes this -\n\n-   Focus on data\n-   Distort data\n-   Is it directly proportional to numbers\n-   Is labeling clear\n-   Maximize data-ink ratio\n    -   Remove non-data ink\n    -   Reduce redundant data ink\n-   Revise and redraw\n\nWhat is one of the most common plots you make all the time?\n:::\n\n::: {.column width=\"40%\"}\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# \"Better\" version with higher data-ink ratio\nbetter_plot <- ggplot(pine_df, aes(x = wind, y = length_mm)) +\n  stat_summary(fun = \"mean\", geom = \"point\", size = 3) +\n  stat_summary(fun.data = \"mean_se\", geom = \"errorbar\", width = 0.2) +\n  theme_minimal() +\n  labs(title = \"Average needle length\",\n       subtitle = \"This plot has a low data-ink ratio\",\n       x = \"Sampling Side\", y = \"Average lenght (mm)\")\n\n\nbetter_plot\n```\n\n::: {.cell-output-display}\n![](02_01_lecture_powerpoint_files/figure-docx/unnamed-chunk-6-1.png)\n:::\n:::\n\n\n\n\n\n\n\n\n\n:::\n:::::\n\n# **Lecture 2:** Displaying data -the bad\n\n::::: columns\n::: {.column width=\"60%\"}\n## Common Visualization Problems\n\n1.  **Data distortion**:\n    -   Non-zero baselines on bar charts\n    -   3D effects that skew perspective\n    -   Inappropriate scales\n2.  **Excessive \"chart junk\"**:\n    -   Too many gridlines\n    -   Unnecessary decorative elements\n    -   Redundant information\n3.  **Poor color choices**:\n    -   Too many colors\n    -   Non-colorblind-friendly palettes\n    -   Colors that don't print well in grayscale\n4.  **Misleading representations**:\n    -   Pie charts with too many categories\n    -   Dual y-axes with different scales\n    -   Truncated axes without clear indication\n:::\n\n::: {.column width=\"40%\"}\n\\<\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nNULL\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](02_01_lecture_powerpoint_files/figure-docx/unnamed-chunk-7-1.png)\n:::\n:::\n\n\n\n\n\n\n\n\n\n:::\n:::::\n\n::: callout-tip\n## Practice Exercise 3: Lets try some plots with pine data first\n\nLets try to make some basic plots\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Write your code here to make a dot plot or X y plot\n# How do you examine the data - what are the ways you think and lets try it!\n# what is missing - hwo do you tell the effect of wind?\n```\n:::\n\n\n\n\n\n\n\n\n\n:::\n\n# \n\n::: callout-tip\n## Practice Exercise 4: OK we are closer but what about colors or shape or fills\n\nLets try to make some more basic plots\n\nThis is free time - we will free code this....\n\nBelow are some examples of code you will need for the future\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Write your code here to make a dot plot or X y plot\n# How do you examine the data - what are the ways you think and lets try it!\n# what is missing - hwo do you tell the effect of wind?\n```\n:::\n\n\n\n\n\n\n\n\n\n:::\n\n# **Lecture 2:** Introduction to the Grammar of Graphics - ggPLOT\n\nWe will learn the anatomy of a GGplot is layers\n\n-   ggplot2 uses a **layered grammar of graphics** approach:\n    1.  **Data**: The dataset you're visualizing\n    2.  **Aesthetics**: Mapping variables to visual properties\n    3.  **Geometries**: The visual elements representing data\n    4.  **Facets**: Splitting visualization into subplots\n    5.  **Statistics**: Statistical transformations of the data\n    6.  **Coordinates**: The space in which data is plotted\n    7.  **Themes**: Overall visual style of the plotWe have aesthetics\n    8.  \n\n# **Lecture 2:** Building a ggplot Visualization\n\n### Key Components:\n\n1.  **Aesthetics (aes)** map variables to visual properties:\n    -   x and y positions\n    -   color, fill, shape, size, alpha\n    -   group, linetype\n2.  \\*\\*Geometries (geom\\_\\*)\\*\\* determine how data is displayed:\n    -   `geom_point()`: Scatter plots\n    -   `geom_line()`: Line graphs\n    -   `geom_boxplot()`: Box-and-whisker plots\n    -   `geom_violin()`: Violin plots\n    -   `geom_histogram()`: Histograms\n    -   `geom_bar()`: Bar charts\n3.  **Position adjustments** control how elements are arranged:\n    -   `position_dodge()`: Side-by-side elements\n    -   `position_jitter()`: Add random noise to points\n    -   `position_stack()`: Stack elements on top of each other\n4.  **Labels and annotations** provide context:\n    -   `labs()`: Title, subtitle, caption, axis labels\n    -   `annotate()`: Add text, shapes, etc.\n\n# **Lecture 2:** Fine-tuning your visualizations:\n\n1.  **Colors, fills, and shapes**:\n\n    ``` r\n    scale_color_manual(\n      values = c(\"wind\" = \"darkblue\", \"lee\" = \"darkred\"),\n      labels = c(\"wind\" = \"Windward\", \"lee\" = \"Leeward\")\n    )\n    ```\n\n2.  **Coordinate systems**:\n\n    ``` r\n    coord_cartesian(ylim = c(10, 30))  # Zoom in without dropping data\n    ```\n\n3.  **Themes**:\n\n    ``` r\n    theme_minimal() +\n    theme(\n      axis.title = element_text(size = 14),\n      legend.position = \"bottom\"\n    )\n    ```\n\n4.  **Combining plots with patchwork**:\n\n    ``` r\n    plot1 + plot2 + plot_layout(ncol = 2)\n    ```\n\n::: callout-tip\n### Practice Exercise 4: Creating a Publication-Quality Plot\n\nCreate a fully customized plot that would be suitable for publication:\n\n``` r\n# Create a publication-quality plot\npine_df %>%\n  ggplot(aes(x = wind, y = length_mm, fill = wind)) +\n  geom_violin(alpha = 0.4) +\n  geom_boxplot(width = 0.2, alpha = 0.7, outlier.shape = NA) +\n  geom_jitter(width = 0.1, alpha = 0.5, color = \"gray30\", size = 2) +\n  stat_summary(fun = mean, geom = \"point\", shape = 23, size = 3, fill = \"white\") +\n  labs(\n    title = \"Pine Needle Length Varies with Wind Exposure\",\n    subtitle = \"Needles on the leeward side tend to be longer\",\n    x = \"Tree Side\", \n    y = \"Needle Length (mm)\",\n    caption = \"Data collected Spring 2023\"\n  ) +\n  scale_fill_manual(\n    values = c(\"wind\" = \"#1b9e77\", \"lee\" = \"#d95f02\"),\n    labels = c(\"wind\" = \"Windward\", \"lee\" = \"Leeward\")\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    plot.subtitle = element_text(size = 12, color = \"gray30\"),\n    axis.title = element_text(face = \"bold\"),\n    legend.title = element_blank(),\n    legend.position = \"bottom\"\n  )\n```\n:::\n\n## Key Takeaways\n\n1.  **Plan your data management** from the beginning\n    -   Consistent naming conventions\n    -   Good organization\n    -   Regular backups\n2.  **Make your data tidy** from the start\n    -   One observation per row\n    -   One variable per column\n    -   One value per cell\n3.  **Create effective visualizations** by:\n    -   Focusing on data, not decoration\n    -   Using appropriate plot types\n    -   Following good design principles\n    -   Customizing for clear communication\n4.  **Master the grammar of graphics** to:\n    -   Build plots layer by layer\n    -   Communicate patterns clearly\n    -   Tell compelling stories with data\n\n## Next Steps\n\n-   Practice creating different types of plots\n-   Learn to combine multiple plots effectively\n-   Explore statistical transformations in ggplot2\n-   Develop a consistent visualization style\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}